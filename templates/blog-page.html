{% extends "base.html" %}

{% block title %}{{ page.title }} - {{ config.title }}{% endblock %}
{% block description %}{{ page.description | default(value=page.summary) | default(value="Read about " ~ page.title ~ " on Daniel Olczyk's programming blog") }}{% endblock %}

{% block keywords %}{{ page.extra.tags | default(value=[]) | join(sep=", ") }}, {{ page.title | lower }}, programming, rust, software development, tutorial, tech blog{% endblock %}
{% block canonical %}{{ page.permalink }}{% endblock %}

{% block og_type %}article{% endblock %}
{% block og_url %}{{ page.permalink }}{% endblock %}
{% block og_title %}{{ page.title }}{% endblock %}
{% block og_description %}{{ page.description | default(value=page.summary) | default(value="Read about " ~ page.title ~ " on Daniel Olczyk's programming blog") }}{% endblock %}

{% block twitter_url %}{{ page.permalink }}{% endblock %}
{% block twitter_title %}{{ page.title }}{% endblock %}
{% block twitter_description %}{{ page.description | default(value=page.summary) | default(value="Read about " ~ page.title ~ " on Daniel Olczyk's programming blog") }}{% endblock %}

{% block schema_type %}BlogPosting{% endblock %}

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{{ page.title }}",
    "description": "{{ page.description | default(value=page.summary) | default(value="Read about " ~ page.title ~ " on Daniel Olczyk's programming blog") }}",
    "url": "{{ page.permalink }}",
    "datePublished": "{{ page.date | date(format="%Y-%m-%d") }}",
    "dateModified": "{{ page.updated | default(value=page.date) | date(format="%Y-%m-%d") }}",
    "author": {
        "@type": "Person",
        "name": "Daniel Olczyk",
        "url": "{{ config.extra.socials.portfolio }}",
        "sameAs": [
            "{{ config.extra.socials.github }}",
            "{{ config.extra.socials.linkedin }}",
            "{{ config.extra.socials.x }}"
        ]
    },
    "publisher": {
        "@type": "Person",
        "name": "Daniel Olczyk"
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ page.permalink }}"
    },
    "wordCount": {{ page.word_count }},
    "timeRequired": "PT{{ page.reading_time }}M"
    {% if page.extra.tags %},
    "keywords": "{{ page.extra.tags | join(sep=", ") }}"
    {% endif %}
}
</script>

{% block content %}
<div class="terminal-window">
    <div class="terminal-output">
        <p class="command-line"><span class="prompt">$</span> cat {{ page.slug }}.html</p>
        
        <article class="blog-post">
            <header class="post-header">
                <h1 class="post-title">{{ page.title }}</h1>
                <div class="post-meta">
                    <span class="meta-item">
                        <span class="meta-label">date:</span> {{ page.date | date(format="%Y-%m-%d") }}
                    </span>
                    <span class="meta-separator">|</span>
                    <span class="meta-item">
                        <span class="meta-label">words:</span> {{ page.word_count }}
                    </span>
                    <span class="meta-separator">|</span>
                    <span class="meta-item">
                        <span class="meta-label">reading time:</span> {{ page.reading_time }} min
                    </span>
                </div>
            </header>

            <div class="post-content">
                {{ page.content | safe }}
            </div>

            <section class="post-comments">
                <p class="command-line"><span class="prompt">$</span> tail -f comments.log</p>
                <script src="https://giscus.app/client.js"
                        data-repo="dolczykk/blog.dolczyk.rocks"
                        data-repo-id="R_kgDOQvpPOw"
                        data-category="Blog posts"
                        data-category-id="DIC_kwDOQvpPO84C0SU6"
                        data-mapping="pathname"
                        data-strict="1"
                        data-reactions-enabled="1"
                        data-emit-metadata="0"
                        data-input-position="bottom"
                        data-theme="preferred_color_scheme"
                        data-lang="en"
                        data-loading="lazy"
                        crossorigin="anonymous"
                        async>
                </script>
            </section>
        
            <footer class="post-footer">
                <p class="command-line"><span class="prompt">$</span> cd ..</p>
                <a href="{{ get_url(path='') }}" class="back-link">← Back to home</a>
                <a href="{{ get_url(path='/blogs') }}" class="back-link">← Back to blogs</a>
            </footer>
            
            <p class="command-line"><span class="prompt">$</span> <span class="cursor-blink">█</span></p>
        </article>
    </div>
</div>
{% endblock %}
